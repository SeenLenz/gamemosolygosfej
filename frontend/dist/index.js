(()=>{"use strict";var t={752:(t,e,s)=>{e.QX=e.nS=e.jG=void 0;const i=s(947),r=s(254),o=s(15),a=s(125);document.addEventListener("DOMContentLoaded",(()=>{e.jG.setup(),n()})),e.jG=new i.Renderer,new r.EventHandler(e.jG),e.nS=new a.Camera,e.QX=.2;let h=1;function n(){const t=(performance.now()-h)/10;h=performance.now(),e.jG.run(e.nS.convert()),o.GameObject.objects.forEach((e=>{e.run(t),e.render()})),requestAnimationFrame(n)}},131:(t,e)=>{e.eG=void 0,e.eG=class{constructor(t,e){this.vertex_buffer=e.create_buffer(e.gl.ARRAY_BUFFER,t.positions,"a_pos"),this.index_buffer=e.gl.createBuffer(),e.gl.bindBuffer(e.gl.ELEMENT_ARRAY_BUFFER,this.index_buffer),e.gl.bufferData(e.gl.ELEMENT_ARRAY_BUFFER,t.indicies,e.gl.STATIC_DRAW),this.color_buffer=e.create_buffer(e.gl.ARRAY_BUFFER,t.colors,"a_color")}render(t,e,s){t.gl.uniform3f(t.uniform_transform,e.x,e.y,1),t.gl.enableVertexAttribArray(this.vertex_buffer.attribute),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this.vertex_buffer.buffer),t.gl.vertexAttribPointer(this.vertex_buffer.attribute,2,t.gl.FLOAT,!1,0,0),t.gl.enableVertexAttribArray(this.color_buffer.attribute),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this.color_buffer.buffer),t.gl.vertexAttribPointer(this.color_buffer.attribute,3,t.gl.FLOAT,!1,0,0),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,this.index_buffer),t.gl.drawElements(t.gl.TRIANGLES,6,t.gl.UNSIGNED_SHORT,0)}}},947:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Renderer=void 0;const i=s(920);e.Renderer=class{constructor(){const t=document.querySelector("#vertex_shader"),e=document.querySelector("#fragment_shader");if(!t||!e)throw new Error("Vertex or fragment shader element not found.");const s=t.textContent||"",r=e.textContent||"";this.canvas=document.querySelector("#main_canvas"),this.gl=this.canvas.getContext("webgl2"),this.vertex_shader=i.setup.create_shader(this.gl,this.gl.VERTEX_SHADER,s),this.fragment_shader=i.setup.create_shader(this.gl,this.gl.FRAGMENT_SHADER,r),this.program=i.setup.create_program(this.gl,this.vertex_shader,this.fragment_shader),this.uniform_resolution=null,this.uniform_transform=null,this.camera=null,this.textures=[]}create_buffer(t,e,s){let i=this.gl.getAttribLocation(this.program,s),r=this.gl.createBuffer();return this.gl.bindBuffer(t,r),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(e),this.gl.STATIC_DRAW),{buffer:r,attribute:i}}create_texture(t){let e=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,255,255]));let s=new Image;s.src=t,s.addEventListener("load",(()=>{this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s),this.gl.generateMipmap(this.gl.TEXTURE_2D)})),this.textures.push(e)}setup(){this.gl.canvas.width=this.canvas.clientWidth,this.gl.canvas.height=this.canvas.clientHeight,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.uniform_resolution=this.gl.getUniformLocation(this.program,"u_res"),this.uniform_transform=this.gl.getUniformLocation(this.program,"u_transform"),this.camera=this.gl.getUniformLocation(this.program,"camera")}run(t){this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.useProgram(this.program),this.gl.uniform2f(this.uniform_resolution,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform3fv(this.camera,t)}}},920:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setup=void 0,e.setup={create_shader:function(t,e,s){var i=t.createShader(e);if(t.shaderSource(i,s),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;console.log(t.getShaderInfoLog(i)),t.deleteShader(i)},create_program:function(t,e,s){var i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,s),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS))return i;console.log(t.getProgramInfoLog(i)),t.deleteProgram(i)}}},125:(t,e,s)=>{s.r(e),s.d(e,{Camera:()=>r});var i=s(752);class r{constructor(){this.pos={x:0,y:0},this.scale=.5}convert(){return Float32Array(this.pos.x,this.pos.y,this.scale)}get zero(){return{y:this.pos.y-i.jG.canvas.height*this.scale,x:this.pos.x-i.jG.canvas.width*this.scale}}get width(){return i.jG.canvas.width/this.scale}get height(){return i.jG.canvas.height/this.scale}focus_on(t){this.pos.x=t.object.transform.pos.x,this.pos.y=t.object.transform.pos.y-i.jG.canvas.height/2}}},254:(t,e,s)=>{s.r(e),s.d(e,{EventHandler:()=>i}),s(752);class i{constructor(t){this.mouse={pos:{x:0,y:0},prev_pos:{x:0,y:0},leftClick:!1},this.keys={w:!1,a:!1,s:!1,d:!1},window.addEventListener("mousemove",(t=>{this.mouse.prev_pos=this.mouse.pos,this.mouse.pos=t})),window.addEventListener("mousedown",(t=>{0===t.button&&(this.mouse.leftClick=!0)})),window.addEventListener("mouseup",(t=>{0===t.button&&(this.mouse.leftClick=!1)})),document.addEventListener("keypress",(t=>{"KeyW"==t.code&&(this.keys.w=!0)})),document.addEventListener("keydown",(t=>{"w"===t.key&&(this.keys.w=!0)})),document.addEventListener("keyup",(t=>{"w"===t.key&&(this.keys.w=!1)})),window.addEventListener("resize",(e=>{t.gl.canvas.width=t.gl.canvas.clientWidth,t.gl.canvas.height=t.gl.canvas.clientHeight,t.gl.viewport(0,0,t.gl.canvas.width,t.gl.canvas.height)}))}}},15:(t,e,s)=>{s.r(e),s.d(e,{DynamicGameObj:()=>h,GameObject:()=>o,StaticGameObj:()=>a});var i=s(131),r=s(752);class o{constructor(t,e,s,r){let a=(0,i.quad)(e[0],e[1],r);this.object=new i.eG(a.positions,a.indicies,a.color,t,e[0],e[1]),this.mass=e[0]*e[1],this.object_tag,this.isDynamic=!1,o.objects.push(this),this.collidable=!0,this.pos={x:s[0],y:s[1]},this.scale={x:e[0],y:e[1]}}render(){this.object.render(r.jG,this.pos,this.scale)}static objects=[]}class a extends o{constructor(t,e,s,i){super(t,e,s,i)}run(){}}class h extends o{constructor(t,e,s,i){super(t,e,s,i),this.isDynamic=!0,this.reactive=!1,this.velocity={x:0,y:0},this.force={x:0,y:0}}start(){}get acceleration(){return{x:this.force.x/this.mass,y:this.force.y/this.mass}}add_force(t){this.force.x+=t[0],this.force.x+=t[1]}collide(t){let e=[];for(let s of o.objects){if(this.isDynamic&&!this.reactive&&s.isDynamic||s.isDynamic&&!s.reactive&&this.isDynamic)continue;if(!this.collidable||!s.collidable||s==this)continue;let i=this.pos.x+this.scale.x-s.pos.x+this.velocity.x*t,r=this.pos.y+this.scale.y-s.pos.y+this.velocity.y*t;if(s.isDynamic&&(i-=s.velocity.x*t,r-=s.velocity.y*t),i>0&&i<this.scale.x+s.scale.x&&r>0&&r<this.scale.y+s.scale.y){let t=Math.min(this.pos.x,s.pos.x),i=Math.max(this.pos.x+this.scale.x,s.pos.x+s.scale.x),r=Math.min(this.pos.y,s.pos.y),o=Math.max(this.pos.y+this.scale.y,s.pos.y+s.scale.y);if(Math.abs(s.scale.x-(i-t-this.scale.x))<Math.abs(s.scale.y-(o-r-this.scale.y))?Math.abs(s.pos.x-this.pos.x)<Math.abs(s.pos.x+s.scale.x-this.pos.x)?e.push({obj:s,x:1,y:0}):e.push({obj:s,x:-1,y:0}):Math.abs(s.pos.y-this.pos.y)<Math.abs(s.pos.y+s.scale.y-this.pos.y)?e.push({obj:s,x:0,y:1}):e.push({obj:s,x:0,y:-1}),4==e.length)return e}}return e}collision(t){const e=this.collide(t);for(let t of e)this.on_collision(t)}motion(t){this.velocity.y+=this.force.y/this.mass*t,this.velocity.x+=this.force.x/this.mass*t,this.velocity.y=Math.abs(this.velocity.y)<t*r.QX?0:this.velocity.y,this.pos.y+=this.velocity.y*t,this.pos.x+=this.velocity.x*t}run(t){}on_collision(t){0!=t.x?this.on_collision_x(t.obj,t.x):this.on_collision_y(t.obj,t.y)}on_collision_x(t,e){this.pos.x=-1==e?t.pos.x+t.scale.x:t.pos.x-this.scale.x}on_collision_y(t,e){this.pos.y=-1==e?t.pos.y+t.scale.y:t.pos.y-this.scale.y,this.velocity.y=.3*(-this.velocity.y+this.force.y/this.mass)}}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,s),o.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s(752)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLENBQUMsR0FPWCxPQUhBRSxFQUFvQkwsR0FBVUksRUFBUUEsRUFBT0QsUUFBU0osR0FHL0NLLEVBQU9ELE9BQ2YsQ0NyQkFKLEVBQW9CN0MsRUFBSSxDQUFDaUQsRUFBU0csS0FDakMsSUFBSSxJQUFJOUMsS0FBTzhDLEVBQ1hQLEVBQW9CUSxFQUFFRCxFQUFZOUMsS0FBU3VDLEVBQW9CUSxFQUFFSixFQUFTM0MsSUFDNUVnRCxPQUFPQyxlQUFlTixFQUFTM0MsRUFBSyxDQUFFa0QsWUFBWSxFQUFNQyxJQUFLTCxFQUFXOUMsSUFFMUUsRUNORHVDLEVBQW9CUSxFQUFJLENBQUM3SyxFQUFLa0wsSUFBVUosT0FBT0ssVUFBVUMsZUFBZUMsS0FBS3JMLEVBQUtrTCxHQ0NsRmIsRUFBb0JpQixFQUFLYixJQUNILG9CQUFYYyxRQUEwQkEsT0FBT0MsYUFDMUNWLE9BQU9DLGVBQWVOLEVBQVNjLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFgsT0FBT0MsZUFBZU4sRUFBUyxhQUFjLENBQUVnQixPQUFPLEdBQU8sRUNGcENwQixFQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvYXBwLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3JlbmRlcmVyL29iamVjdC50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9yZW5kZXJlci9yZW5kZXJlci50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9yZW5kZXJlci9zZXR1cC50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9hcHBsaWNhdGlvbi9jYW1lcmEuanMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvYXBwbGljYXRpb24vZXZlbnRfaGFuZGxlci5qcyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9hcHBsaWNhdGlvbi9nYW1lb2JqZWN0LmpzIiwid2VicGFjazovL2Zyb250ZW5kL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Zyb250ZW5kL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9mcm9udGVuZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2Zyb250ZW5kL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1ub2NoZWNrXG5cbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyZXIvcmVuZGVyZXIudHNcIjtcbmltcG9ydCB7IEV2ZW50SGFuZGxlciB9IGZyb20gXCIuL2FwcGxpY2F0aW9uL2V2ZW50X2hhbmRsZXIuanNcIjtcbmltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tIFwiLi9hcHBsaWNhdGlvbi9nYW1lb2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi9hcHBsaWNhdGlvbi9jYW1lcmEuanNcIjtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIG1haW4oKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTtcbmV4cG9ydCBjb25zdCBldmVudEhhbmRsZXIgPSBuZXcgRXZlbnRIYW5kbGVyKHJlbmRlcmVyKTtcbmV4cG9ydCBsZXQgY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuZXhwb3J0IGxldCBncmF2aXR5ID0gMC4yO1xuZXhwb3J0IGxldCBhaXJfZGVuc2l0eSA9IDEuMjA0O1xuXG5sZXQgc3RhcnQgPSAxO1xuXG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICByZW5kZXJlci5zZXR1cCgpO1xufVxuXG5mdW5jdGlvbiBtYWluX2xvb3AoKSB7XG4gICAgY29uc3QgZGVsdGFfdGltZSA9IChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KSAvIDEwLjtcbiAgICBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHJlbmRlcmVyLnJ1bihjYW1lcmEuY29udmVydCgpKTtcblxuXG4gICAgR2FtZU9iamVjdC5vYmplY3RzLmZvckVhY2gob2JqID0+IHtcbiAgICAgICAgb2JqLnJ1bihkZWx0YV90aW1lKTtcblxuICAgICAgICBvYmoucmVuZGVyKCk7XG4gICAgfSk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1haW5fbG9vcClcbn1cblxuZnVuY3Rpb24gbWFpbigpIHtcbiAgICBzZXR1cCgpO1xuXG4gICAgbWFpbl9sb29wKCk7XG59XG4iLCJpbXBvcnQgeyBWZWMyLCBWZWMzIH0gZnJvbSBcIi4uL2xpbl9hbGdcIjtcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyZXJcIjtcblxuZXhwb3J0IGNsYXNzIE9iaiB7XG4gICAgcHVibGljIHZlcnRleF9idWZmZXI6IHtidWZmZXI6IFdlYkdMQnVmZmVyLCBhdHRyaWJ1dGU6IG51bWJlcn07XG4gICAgcHVibGljIGluZGV4X2J1ZmZlcjogV2ViR0xCdWZmZXI7XG4gICAgcHVibGljIGNvbG9yX2J1ZmZlcjoge2J1ZmZlcjogV2ViR0xCdWZmZXIsIGF0dHJpYnV0ZTogbnVtYmVyfTtcblxuICAgIGNvbnN0cnVjdG9yKHF1YWQ6IFF1YWQsIHJlbmRlcmVyOiBSZW5kZXJlcikge1xuICAgICAgICB0aGlzLnZlcnRleF9idWZmZXIgPSByZW5kZXJlci5jcmVhdGVfYnVmZmVyKHJlbmRlcmVyLmdsLkFSUkFZX0JVRkZFUiwgcXVhZC5wb3NpdGlvbnMsIFwiYV9wb3NcIik7XG4gICAgICAgIHRoaXMuaW5kZXhfYnVmZmVyID0gcmVuZGVyZXIuZ2wuY3JlYXRlQnVmZmVyKClhcyBXZWJHTEJ1ZmZlcjtcbiAgICAgICAgcmVuZGVyZXIuZ2wuYmluZEJ1ZmZlcihyZW5kZXJlci5nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xuICAgICAgICByZW5kZXJlci5nbC5idWZmZXJEYXRhKHJlbmRlcmVyLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBxdWFkLmluZGljaWVzLCByZW5kZXJlci5nbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgdGhpcy5jb2xvcl9idWZmZXIgPSByZW5kZXJlci5jcmVhdGVfYnVmZmVyKHJlbmRlcmVyLmdsLkFSUkFZX0JVRkZFUiwgcXVhZC5jb2xvcnMsIFwiYV9jb2xvclwiKTtcbiAgICB9XG5cbiAgICByZW5kZXIocmVuZGVyZXI6IFJlbmRlcmVyLCBwb3M6IFZlYzIsIHNjYWxlOiBWZWMyKSB7XG4gICAgICAgIHJlbmRlcmVyLmdsLnVuaWZvcm0zZihyZW5kZXJlci51bmlmb3JtX3RyYW5zZm9ybSwgcG9zLngsIHBvcy55LCAxKTtcblxuICAgICAgICByZW5kZXJlci5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnZlcnRleF9idWZmZXIuYXR0cmlidXRlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2wuYmluZEJ1ZmZlcihyZW5kZXJlci5nbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4X2J1ZmZlci5idWZmZXIpO1xuICAgICAgICByZW5kZXJlci5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhfYnVmZmVyLmF0dHJpYnV0ZSxcbiAgICAgICAgICAgIDIsXG4gICAgICAgICAgICByZW5kZXJlci5nbC5GTE9BVCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKTtcblxuICAgICAgICByZW5kZXJlci5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmNvbG9yX2J1ZmZlci5hdHRyaWJ1dGUpO1xuICAgICAgICByZW5kZXJlci5nbC5iaW5kQnVmZmVyKHJlbmRlcmVyLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy5jb2xvcl9idWZmZXIuYnVmZmVyKTtcbiAgICAgICAgcmVuZGVyZXIuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICAgIHRoaXMuY29sb3JfYnVmZmVyLmF0dHJpYnV0ZSxcbiAgICAgICAgICAgIDMsXG4gICAgICAgICAgICByZW5kZXJlci5nbC5GTE9BVCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKTtcblxuICAgICAgICByZW5kZXJlci5nbC5iaW5kQnVmZmVyKHJlbmRlcmVyLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmluZGV4X2J1ZmZlcik7XG4gICAgICAgIHJlbmRlcmVyLmdsLmRyYXdFbGVtZW50cyhyZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIHJlbmRlcmVyLmdsLlVOU0lHTkVEX1NIT1JULCAwKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIFF1YWQge1xuICAgIHBvc2l0aW9uczogRmxvYXQzMkFycmF5O1xuICAgIGluZGljaWVzOiBJbnQzMkFycmF5O1xuICAgIGNvbG9yczogRmxvYXQzMkFycmF5O1xuXG4gICAgY29uc3RydWN0b3Ioc2l6ZTogVmVjMiwgY29sb3I6IEFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFxuICAgICAgICAgICAgWzAsIHNpemUueSwgIFxuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIHNpemUueCwgc2l6ZS55LFxuICAgICAgICAgICAgc2l6ZS54LCAwLF1cbiAgICAgICAgKTtcbiAgICBcbiAgICAgICAgbGV0IGNvbG9yczogQXJyYXk8bnVtYmVyPiA9IFtdO1xuICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLmNvbmNhdChjb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoY29sb3JzKTtcbiAgICBcbiAgICAgICAgdGhpcy5pbmRpY2llcyA9IG5ldyBJbnQzMkFycmF5KFxuICAgICAgICAgICAgWzAsIDEsIDIsXG4gICAgICAgICAgICAyLCAxLCAzLF1cbiAgICAgICAgKTtcbiAgICB9XG59IFxuIiwiaW1wb3J0IHsgc2V0dXAgfSBmcm9tIFwiLi9zZXR1cFwiO1xuXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xuICAgIHB1YmxpYyBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHB1YmxpYyBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcbiAgICBwdWJsaWMgdmVydGV4X3NoYWRlcjogV2ViR0xTaGFkZXI7XG4gICAgcHVibGljIGZyYWdtZW50X3NoYWRlcjogV2ViR0xTaGFkZXI7XG4gICAgcHVibGljIHByb2dyYW06IFdlYkdMUHJvZ3JhbTtcbiAgICBwdWJsaWMgdW5pZm9ybV9yZXNvbHV0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiB8IG51bGw7XG4gICAgcHVibGljIHVuaWZvcm1fdHJhbnNmb3JtOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiB8IG51bGw7XG4gICAgcHVibGljIGNhbWVyYTogV2ViR0xVbmlmb3JtTG9jYXRpb24gfCBudWxsO1xuICAgIHB1YmxpYyB0ZXh0dXJlczogV2ViR0xUZXh0dXJlW107XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgdmVydGV4RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdmVydGV4X3NoYWRlclwiKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZnJhZ21lbnRfc2hhZGVyXCIpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcblxuICAgICAgICBpZiAoIXZlcnRleEVsZW1lbnQgfHwgIWZyYWdtZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVydGV4IG9yIGZyYWdtZW50IHNoYWRlciBlbGVtZW50IG5vdCBmb3VuZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2ZXJ0ZXhfc291cmNlID0gdmVydGV4RWxlbWVudC50ZXh0Q29udGVudCB8fCBcIlwiO1xuICAgICAgICBjb25zdCBmcmFnbWVudF9zb3VyY2UgPSBmcmFnbWVudEVsZW1lbnQudGV4dENvbnRlbnQgfHwgXCJcIjtcblxuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbl9jYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICAgIHRoaXMuZ2wgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2wyXCIpIGFzIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhfc2hhZGVyID0gc2V0dXAuY3JlYXRlX3NoYWRlcihcbiAgICAgICAgICAgIHRoaXMuZ2wsXG4gICAgICAgICAgICB0aGlzLmdsLlZFUlRFWF9TSEFERVIsXG4gICAgICAgICAgICB2ZXJ0ZXhfc291cmNlXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRfc2hhZGVyID0gc2V0dXAuY3JlYXRlX3NoYWRlcihcbiAgICAgICAgICAgIHRoaXMuZ2wsXG4gICAgICAgICAgICB0aGlzLmdsLkZSQUdNRU5UX1NIQURFUixcbiAgICAgICAgICAgIGZyYWdtZW50X3NvdXJjZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBzZXR1cC5jcmVhdGVfcHJvZ3JhbShcbiAgICAgICAgICAgIHRoaXMuZ2wsXG4gICAgICAgICAgICB0aGlzLnZlcnRleF9zaGFkZXIsXG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50X3NoYWRlclxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybV9yZXNvbHV0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmlmb3JtX3RyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRleHR1cmVzID0gW107XG4gICAgfVxuXG4gICAgY3JlYXRlX2J1ZmZlcih0eXBlOiBudW1iZXIsIGNvbnRlbnQ6IEZsb2F0MzJBcnJheSwgYXR0cmlidXRlX2xvY2F0aW9uOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGF0dHJpYnV0ZSA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgICAgICB0aGlzLnByb2dyYW0sXG4gICAgICAgICAgICBhdHRyaWJ1dGVfbG9jYXRpb25cbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHR5cGUsIGJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICAgIHRoaXMuZ2wuQVJSQVlfQlVGRkVSLFxuICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShjb250ZW50KSxcbiAgICAgICAgICAgIHRoaXMuZ2wuU1RBVElDX0RSQVdcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2J1ZmZlcjogYnVmZmVyIGFzIFdlYkdMQnVmZmVyLCBhdHRyaWJ1dGU6IGF0dHJpYnV0ZX1cbiAgICB9XG5cbiAgICBjcmVhdGVfdGV4dHVyZShpbWFnZV9zb3VyY2U6IHN0cmluZykge1xuICAgICAgICBsZXQgdGV4dHVyZSA9IHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKHRoaXMuZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5nbC5SR0JBLCAxLCAxLCAwLCB0aGlzLmdsLlJHQkEsIHRoaXMuZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KFswLCAwLCAyNTUsIDI1NV0pKTtcblxuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2Vfc291cmNlOyAgIFxuICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKHRoaXMuZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5nbC5SR0JBLCB0aGlzLmdsLlJHQkEsdGhpcy5nbC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XG4gICAgICAgICAgICB0aGlzLmdsLmdlbmVyYXRlTWlwbWFwKHRoaXMuZ2wuVEVYVFVSRV8yRCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZXMucHVzaCh0ZXh0dXJlIGFzIFdlYkdMVGV4dHVyZSlcbiAgICB9XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgdGhpcy5nbC5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICAgICAgdGhpcy5nbC5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZ2wudmlld3BvcnQoMCwgMCwgdGhpcy5nbC5jYW52YXMud2lkdGgsIHRoaXMuZ2wuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy51bmlmb3JtX3Jlc29sdXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV9yZXNcIik7XG4gICAgICAgIHRoaXMudW5pZm9ybV90cmFuc2Zvcm0gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV90cmFuc2Zvcm1cIik7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcImNhbWVyYVwiKTtcbiAgICB9XG5cbiAgICBydW4oY2FtZXJhOiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xuICAgICAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICB0aGlzLmdsLnVuaWZvcm0yZih0aGlzLnVuaWZvcm1fcmVzb2x1dGlvbiwgdGhpcy5nbC5jYW52YXMud2lkdGgsIHRoaXMuZ2wuY2FudmFzLmhlaWdodCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTNmdih0aGlzLmNhbWVyYSwgY2FtZXJhKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3Qgc2V0dXAgPSB7XG4gICAgY3JlYXRlX3NoYWRlcjogZnVuY3Rpb24gKGdsOmFueSwgdHlwZTphbnksIHNvdXJjZTphbnkpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlX3Byb2dyYW06IGZ1bmN0aW9uIChnbDogYW55LCB2ZXJ0ZXhTaGFkZXI6IGFueSwgZnJhZ21lbnRTaGFkZXI6IGFueSkge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xuICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHByb2dyYW07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgfSxcbn07XG4iLCJpbXBvcnQgeyByZW5kZXJlciB9IGZyb20gXCIuLi9hcHAudHNcIjtcblxuZXhwb3J0IGNsYXNzIENhbWVyYSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9zID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zY2FsZSA9IDAuNTtcbiAgICB9XG5cbiAgICBjb252ZXJ0KCkge1xuICAgICAgICByZXR1cm4gRmxvYXQzMkFycmF5KHRoaXMucG9zLngsIHRoaXMucG9zLnksIHRoaXMuc2NhbGUpO1xuICAgIH1cbiAgICBcbiAgICBnZXQgemVybygpIHtcbiAgICAgICAgcmV0dXJuIHt5OiB0aGlzLnBvcy55IC0gcmVuZGVyZXIuY2FudmFzLmhlaWdodCAqIHRoaXMuc2NhbGUsIHg6IHRoaXMucG9zLnggLSByZW5kZXJlci5jYW52YXMud2lkdGggKiB0aGlzLnNjYWxlfTsgICBcbiAgICB9XG5cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJlci5jYW52YXMud2lkdGggLyB0aGlzLnNjYWxlO1xuICAgIH1cblxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJlci5jYW52YXMuaGVpZ2h0IC8gdGhpcy5zY2FsZTtcbiAgICB9XG5cbiAgICBmb2N1c19vbihvYmopIHtcbiAgICAgICAgdGhpcy5wb3MueCA9IG9iai5vYmplY3QudHJhbnNmb3JtLnBvcy54O1xuICAgICAgICB0aGlzLnBvcy55ID0gb2JqLm9iamVjdC50cmFuc2Zvcm0ucG9zLnkgLSByZW5kZXJlci5jYW52YXMuaGVpZ2h0IC8gMjtcbiAgICB9XG59IiwiaW1wb3J0IHsgZ3Jhdml0eSB9IGZyb20gXCIuLi9hcHAudHNcIjtcblxuZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5tb3VzZSA9IHtcbiAgICAgICAgICAgIHBvczoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmV2X3Bvczoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGVmdENsaWNrOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMua2V5cyA9IHtcbiAgICAgICAgICAgIHc6IGZhbHNlLFxuICAgICAgICAgICAgYTogZmFsc2UsXG4gICAgICAgICAgICBzOiBmYWxzZSxcbiAgICAgICAgICAgIGQ6IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChldikgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb3VzZS5wcmV2X3BvcyA9IHRoaXMubW91c2UucG9zO1xuICAgICAgICAgICAgdGhpcy5tb3VzZS5wb3MgPSBldjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGV2LmJ1dHRvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZS5sZWZ0Q2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIChldikgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChldi5idXR0b24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2UubGVmdENsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoa2V5ID09IFwiS2V5V1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlzLncgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBldmVudC5rZXk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJ3XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleXMudyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBldmVudC5rZXk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJ3XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleXMudyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBfID0+IHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdsLmNhbnZhcy53aWR0aCA9IHJlbmRlcmVyLmdsLmNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdsLmNhbnZhcy5oZWlnaHQgPSByZW5kZXJlci5nbC5jYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgIFxuICAgICAgICAgICAgcmVuZGVyZXIuZ2wudmlld3BvcnQoMCwgMCwgcmVuZGVyZXIuZ2wuY2FudmFzLndpZHRoLCByZW5kZXJlci5nbC5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHsgT2JqLCBxdWFkIH0gZnJvbSBcIi4uL3JlbmRlcmVyL29iamVjdC50c1wiO1xuaW1wb3J0IHsgZ3Jhdml0eSwgcmVuZGVyZXIgfSBmcm9tIFwiLi4vYXBwLnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgc2l6ZSwgcG9zaXRpb24sIGNvbG9yKSB7XG4gICAgICAgIGxldCBxID0gcXVhZChzaXplWzBdLCBzaXplWzFdLCBjb2xvcik7XG4gICAgICAgIHRoaXMub2JqZWN0ID0gbmV3IE9iaihxLnBvc2l0aW9ucywgcS5pbmRpY2llcywgcS5jb2xvciwgcmVuZGVyZXIsIHNpemVbMF0sIHNpemVbMV0pO1xuICAgICAgICB0aGlzLm1hc3MgPSBzaXplWzBdICogc2l6ZVsxXTtcbiAgICAgICAgdGhpcy5vYmplY3RfdGFnO1xuICAgICAgICB0aGlzLmlzRHluYW1pYyA9IGZhbHNlO1xuICAgICAgICBHYW1lT2JqZWN0Lm9iamVjdHMucHVzaCh0aGlzKTtcblxuICAgICAgICB0aGlzLmNvbGxpZGFibGUgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wb3MgPSB7XG4gICAgICAgICAgICB4OiBwb3NpdGlvblswXSxcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uWzFdLFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY2FsZSA9IHtcbiAgICAgICAgICAgIHg6IHNpemVbMF0sXG4gICAgICAgICAgICB5OiBzaXplWzFdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5vYmplY3QucmVuZGVyKHJlbmRlcmVyLCB0aGlzLnBvcywgdGhpcy5zY2FsZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9iamVjdHMgPSBbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFN0YXRpY0dhbWVPYmogZXh0ZW5kcyBHYW1lT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgc2l6ZSwgcG9zaXRpb24sIGNvbG9yKSB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyLCBzaXplLCBwb3NpdGlvbiwgY29sb3IpXG4gICAgfVxuXG4gICAgcnVuKCkge1xuXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRHluYW1pY0dhbWVPYmogZXh0ZW5kcyBHYW1lT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgc2l6ZSwgcG9zaXRpb24sIGNvbG9yKSB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyLCBzaXplLCBwb3NpdGlvbiwgY29sb3IpO1xuXG4gICAgICAgIHRoaXMuaXNEeW5hbWljID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSB7XG4gICAgICAgICAgICB4OiAwLixcbiAgICAgICAgICAgIHk6IDAuLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZm9yY2UgPSB7XG4gICAgICAgICAgICB4OiAwLixcbiAgICAgICAgICAgIHk6IDAuLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGFjY2VsZXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt4OiB0aGlzLmZvcmNlLnggLyB0aGlzLm1hc3MsIHk6IHRoaXMuZm9yY2UueSAvIHRoaXMubWFzc307XG4gICAgfVxuXG4gICAgYWRkX2ZvcmNlKGZvcmNlKSB7XG4gICAgICAgIHRoaXMuZm9yY2UueCArPSBmb3JjZVswXTtcbiAgICAgICAgdGhpcy5mb3JjZS54ICs9IGZvcmNlWzFdO1xuICAgIH1cblxuICAgIGNvbGxpZGUoZGVsdGFfdGltZSkge1xuICAgICAgICBsZXQgY29sbGlzaW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBvYmogb2YgR2FtZU9iamVjdC5vYmplY3RzKSB7XG4gICAgICAgICAgICBpZiAoKHRoaXMuaXNEeW5hbWljICYmICF0aGlzLnJlYWN0aXZlICYmIG9iai5pc0R5bmFtaWMpIHx8IChvYmouaXNEeW5hbWljICYmICFvYmoucmVhY3RpdmUgJiYgdGhpcy5pc0R5bmFtaWMpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKHRoaXMuY29sbGlkYWJsZSAmJiBvYmouY29sbGlkYWJsZSAmJiBvYmogIT0gdGhpcykpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHhfY29sbGlzaW9uID0gdGhpcy5wb3MueCArIHRoaXMuc2NhbGUueCAtIG9iai5wb3MueCArIHRoaXMudmVsb2NpdHkueCAqIGRlbHRhX3RpbWU7XG4gICAgICAgICAgICBsZXQgeV9jb2xsaXNpb24gPSB0aGlzLnBvcy55ICsgdGhpcy5zY2FsZS55IC0gb2JqLnBvcy55ICsgdGhpcy52ZWxvY2l0eS55ICogZGVsdGFfdGltZTtcblxuICAgICAgICAgICAgaWYgKG9iai5pc0R5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICB4X2NvbGxpc2lvbiAtPSBvYmoudmVsb2NpdHkueCAqIGRlbHRhX3RpbWU7XG4gICAgICAgICAgICAgICAgeV9jb2xsaXNpb24gLT0gb2JqLnZlbG9jaXR5LnkgKiBkZWx0YV90aW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeF9jb2xsaXNpb24gPiAwICYmIHhfY29sbGlzaW9uIDwgdGhpcy5zY2FsZS54ICsgb2JqLnNjYWxlLngpIHtcbiAgICAgICAgICAgICAgICBpZiAoeV9jb2xsaXNpb24gPiAwICYmIHlfY29sbGlzaW9uIDwgdGhpcy5zY2FsZS55ICsgb2JqLnNjYWxlLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHhfbWluID0gTWF0aC5taW4odGhpcy5wb3MueCwgb2JqLnBvcy54KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHhfbWF4ID0gTWF0aC5tYXgodGhpcy5wb3MueCArIHRoaXMuc2NhbGUueCwgb2JqLnBvcy54ICsgb2JqLnNjYWxlLngpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB5X21pbiA9IE1hdGgubWluKHRoaXMucG9zLnksIG9iai5wb3MueSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB5X21heCA9IE1hdGgubWF4KHRoaXMucG9zLnkgKyB0aGlzLnNjYWxlLnksIG9iai5wb3MueSArIG9iai5zY2FsZS55KTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgeF9kaWZmID0gTWF0aC5hYnMob2JqLnNjYWxlLnggLSAoeF9tYXggLSB4X21pbiAtIHRoaXMuc2NhbGUueCkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeV9kaWZmID0gTWF0aC5hYnMob2JqLnNjYWxlLnkgLSAoeV9tYXggLSB5X21pbiAtIHRoaXMuc2NhbGUueSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh4X2RpZmYgPCB5X2RpZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhvYmoucG9zLnggLSB0aGlzLnBvcy54KSA8IE1hdGguYWJzKG9iai5wb3MueCArIG9iai5zY2FsZS54IC0gdGhpcy5wb3MueCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25zLnB1c2goeyBvYmo6IG9iaiwgeDogMSwgeTogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbnMucHVzaCh7IG9iajogb2JqLCB4OiAtMSwgeTogMCB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKG9iai5wb3MueSAtIHRoaXMucG9zLnkpIDwgTWF0aC5hYnMob2JqLnBvcy55ICsgb2JqLnNjYWxlLnkgLSB0aGlzLnBvcy55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbnMucHVzaCh7IG9iajogb2JqLCB4OiAwLCB5OiAxIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25zLnB1c2goeyBvYmo6IG9iaiwgeDogMCwgeTogLTEgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25zLmxlbmd0aCA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sbGlzaW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xsaXNpb25zO1xuICAgIH1cblxuICAgIGNvbGxpc2lvbihkZWx0YV90aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbnMgPSB0aGlzLmNvbGxpZGUoZGVsdGFfdGltZSk7XG5cbiAgICAgICAgZm9yIChsZXQgY29sbGlzaW9uIG9mIGNvbGxpc2lvbnMpIHtcbiAgICAgICAgICAgIHRoaXMub25fY29sbGlzaW9uKGNvbGxpc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3Rpb24oZGVsdGFfdGltZSkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5LnkgKz0gKHRoaXMuZm9yY2UueSAvIHRoaXMubWFzcykgKiBkZWx0YV90aW1lO1xuICAgICAgICB0aGlzLnZlbG9jaXR5LnggKz0gKHRoaXMuZm9yY2UueCAvIHRoaXMubWFzcykgKiBkZWx0YV90aW1lO1xuXG4gICAgICAgIHRoaXMudmVsb2NpdHkueSA9IE1hdGguYWJzKHRoaXMudmVsb2NpdHkueSkgPCBkZWx0YV90aW1lICogZ3Jhdml0eSA/IDAgOiB0aGlzLnZlbG9jaXR5Lnk7XG5cbiAgICAgICAgdGhpcy5wb3MueSArPSB0aGlzLnZlbG9jaXR5LnkgKiBkZWx0YV90aW1lO1xuICAgICAgICB0aGlzLnBvcy54ICs9IHRoaXMudmVsb2NpdHkueCAqIGRlbHRhX3RpbWU7XG4gICAgfVxuXG4gICAgcnVuKGRlbHRhX3RpbWUpIHtcblxuICAgIH1cblxuICAgIG9uX2NvbGxpc2lvbihjb2xsaXNpb24pIHtcbiAgICAgICAgaWYgKGNvbGxpc2lvbi54ICE9IDApIHtcbiAgICAgICAgICAgIHRoaXMub25fY29sbGlzaW9uX3goY29sbGlzaW9uLm9iaiwgY29sbGlzaW9uLngpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vbl9jb2xsaXNpb25feShjb2xsaXNpb24ub2JqLCBjb2xsaXNpb24ueSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbl9jb2xsaXNpb25feChvYmosIGRpcikge1xuICAgICAgICBpZiAoZGlyID09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnBvcy54ID0gb2JqLnBvcy54ICsgb2JqLnNjYWxlLng7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvcy54ID0gb2JqLnBvcy54IC0gdGhpcy5zY2FsZS54O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25fY29sbGlzaW9uX3kob2JqLCBkaXIpIHtcbiAgICAgICAgaWYgKGRpciA9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5wb3MueSA9IG9iai5wb3MueSArIG9iai5zY2FsZS55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb3MueSA9IG9iai5wb3MueSAtIHRoaXMuc2NhbGUueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVsb2NpdHkueSA9ICgtdGhpcy52ZWxvY2l0eS55ICsgdGhpcy5mb3JjZS55IC8gdGhpcy5tYXNzKSAqIDAuMztcbiAgICB9XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzUyKTtcbiJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtYWluX2xvb3AiLCJSZW5kZXJlciIsIkV2ZW50SGFuZGxlciIsIkNhbWVyYSIsInN0YXJ0IiwiZGVsdGFfdGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiR2FtZU9iamVjdCIsIm9iamVjdHMiLCJmb3JFYWNoIiwib2JqIiwicnVuIiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY29uc3RydWN0b3IiLCJxdWFkIiwicmVuZGVyZXIiLCJ0aGlzIiwidmVydGV4X2J1ZmZlciIsImNyZWF0ZV9idWZmZXIiLCJnbCIsIkFSUkFZX0JVRkZFUiIsInBvc2l0aW9ucyIsImluZGV4X2J1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsImJ1ZmZlckRhdGEiLCJpbmRpY2llcyIsIlNUQVRJQ19EUkFXIiwiY29sb3JfYnVmZmVyIiwiY29sb3JzIiwicG9zIiwic2NhbGUiLCJ1bmlmb3JtM2YiLCJ1bmlmb3JtX3RyYW5zZm9ybSIsIngiLCJ5IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJhdHRyaWJ1dGUiLCJidWZmZXIiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJkcmF3RWxlbWVudHMiLCJUUklBTkdMRVMiLCJVTlNJR05FRF9TSE9SVCIsInZlcnRleEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZnJhZ21lbnRFbGVtZW50IiwiRXJyb3IiLCJ2ZXJ0ZXhfc291cmNlIiwidGV4dENvbnRlbnQiLCJmcmFnbWVudF9zb3VyY2UiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwidmVydGV4X3NoYWRlciIsInNldHVwIiwiY3JlYXRlX3NoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudF9zaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJwcm9ncmFtIiwiY3JlYXRlX3Byb2dyYW0iLCJ1bmlmb3JtX3Jlc29sdXRpb24iLCJjYW1lcmEiLCJ0ZXh0dXJlcyIsInR5cGUiLCJjb250ZW50IiwiYXR0cmlidXRlX2xvY2F0aW9uIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJGbG9hdDMyQXJyYXkiLCJjcmVhdGVfdGV4dHVyZSIsImltYWdlX3NvdXJjZSIsInRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwidGV4SW1hZ2UyRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiVWludDhBcnJheSIsImltYWdlIiwiSW1hZ2UiLCJzcmMiLCJnZW5lcmF0ZU1pcG1hcCIsInB1c2giLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0Iiwidmlld3BvcnQiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJjbGVhckNvbG9yIiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwidXNlUHJvZ3JhbSIsInVuaWZvcm0yZiIsInVuaWZvcm0zZnYiLCJzb3VyY2UiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJjb25zb2xlIiwibG9nIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiY29udmVydCIsInplcm8iLCJmb2N1c19vbiIsIm9iamVjdCIsInRyYW5zZm9ybSIsIm1vdXNlIiwicHJldl9wb3MiLCJsZWZ0Q2xpY2siLCJrZXlzIiwidyIsImEiLCJzIiwiZCIsIndpbmRvdyIsImV2IiwiYnV0dG9uIiwiZXZlbnQiLCJjb2RlIiwia2V5IiwiXyIsInNpemUiLCJwb3NpdGlvbiIsImNvbG9yIiwicSIsIm1hc3MiLCJvYmplY3RfdGFnIiwiaXNEeW5hbWljIiwiY29sbGlkYWJsZSIsInN0YXRpYyIsIlN0YXRpY0dhbWVPYmoiLCJzdXBlciIsIkR5bmFtaWNHYW1lT2JqIiwicmVhY3RpdmUiLCJ2ZWxvY2l0eSIsImZvcmNlIiwiYWNjZWxlcmF0aW9uIiwiYWRkX2ZvcmNlIiwiY29sbGlkZSIsImNvbGxpc2lvbnMiLCJ4X2NvbGxpc2lvbiIsInlfY29sbGlzaW9uIiwieF9taW4iLCJNYXRoIiwibWluIiwieF9tYXgiLCJtYXgiLCJ5X21pbiIsInlfbWF4IiwiYWJzIiwibGVuZ3RoIiwiY29sbGlzaW9uIiwib25fY29sbGlzaW9uIiwibW90aW9uIiwib25fY29sbGlzaW9uX3giLCJvbl9jb2xsaXNpb25feSIsImRpciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9